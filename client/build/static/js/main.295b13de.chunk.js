(this.webpackJsonpevo4x=this.webpackJsonpevo4x||[]).push([[0],{107:function(e,t){},110:function(e,t){},159:function(e,t,n){},209:function(e,t){},220:function(e,t){},324:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),i=n(7),o=n(2),s=n.n(o),c=n(49),d=n.n(c),u=n(50),l=n(42),p=n(140),h=n(0),f=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(159);var x,g=n(21),b=n.n(g),w=function(){return Object(l.b)()},j=l.c,v={SET_SOCKET:"SET_SOCKET",SET_LOADING:"SET_LOADING",SET_API_FEEDBACK:"SET_API_FEEDBACK",SET_ROLE:"SET_ROLE",SET_LAST_UNREAD_MESSAGE_INDEX:"SET_LAST_UNREAD_MESSAGE_INDEX",SET_UNREAD_MESSAGES_AMOUNT:"SET_UNREAD_MESSAGES_AMOUNT"},O=function(){var e=w(),t=j((function(e){return e.socket})).socket,n=function(t){return e({type:v.SET_SOCKET,payload:t})};return{socket:t,setSocket:n,clearSocket:function(){t&&(t.disconnect(),n(void 0))}}},y=n(141),k=n.n(y),C=function(){return k.a.parse(Object(u.e)().search)},S=function(){return{role:j((function(e){return e.role})).role}},I=n(32),A=n(6),M=n(144),E=n.n(M),B=n(143),T=n.n(B),P={useSocket:O,useQueryParams:C,useRole:S,useFormHandler:function(e){var t=function(t,n){return e((function(e){return Object(A.a)(Object(A.a)({},e),{},Object(I.a)({},"".concat(t,"Error"),n))}))};return{handleInputValue:function(t){var n=t.target,a=n.name,r=n.value;return e((function(e){return Object(A.a)(Object(A.a)({},e),{},Object(I.a)({},a,r))}))},handleInputError:t,validateProperty:function(e,n){var a=!0;switch(!0){case!n.trim():a=!1,t(e,"This fields cannot be empty");break;case n!==T()(n):a=!1,t(e,"This field contains incorrect characters");break;default:t(e,"")}return a},validateEmail:function(e){var n=!0;switch(!0){case!e.trim():n=!1,t("email","Type your email address");break;case!E.a.isEmail(e):n=!1,t("email","Type proper email address");break;default:t("email","")}return n},validatePassword:function(e,n,a){var r=!0;if(a)switch(!0){case!e:r=!1,t("password","Type your password");break;default:t("password","")}else{switch(!0){case!e:r=!1,t("password","Type your password");break;case!/(?=.{8,})/.test(e):r=!1,t("password","Password must be at least 8 characters long");break;case!/(?=.*[a-z])/.test(e):r=!1,t("password","Password must contain at least one small letter");break;case!/(?=.*[A-Z])/.test(e):r=!1,t("password","Password must contain at least one big letter");break;case!/(?=.*[0-9])/.test(e):r=!1,t("password","Password must contain at least one digit");break;default:t("password","")}switch(!0){case n&&e!==n:r=!1,t("repeatedPassword","Passwords are different");break;default:t("repeatedPassword","")}}return r},validateRepeatedPassword:function(e,n){var a=!0;switch(!0){case!e:a=!1,t("repeatedPassword","Type password twice");break;case e!==n:a=!1,t("repeatedPassword","Passwords are different");break;default:t("repeatedPassword","")}return a}}},useMessagesInfo:function(){var e=w(),t=j((function(e){return e.messagesInfo}));return{lastUnreadMessageIndex:t.lastUnreadMessageIndex,unreadMessagesAmount:t.unreadMessagesAmount,setLastUnreadMessageIndex:function(t){return e({type:v.SET_LAST_UNREAD_MESSAGE_INDEX,payload:t})},setUnreadMessagesAmount:function(t){return e({type:v.SET_UNREAD_MESSAGES_AMOUNT,payload:t})}}}},N=b.a.create();N.interceptors.request.use((function(e){return!x&&(x=setTimeout((function(){return Ke.setLoading(!0)}),500)),e}),(function(e){throw Ke.setLoading(!1),Ke.handleApiError(e),clearTimeout(x),x=void 0,e})),N.interceptors.response.use((function(e){return Ke.setLoading(!1),Ke.setApiFeedback(e.data.feedback),clearTimeout(x),x=void 0,e}),(function(e){throw Ke.setLoading(!1),Ke.handleApiError(e),clearTimeout(x),x=void 0,e}));var U,z,L,_,H,F,R,D,V,G,W,q,K,J,X,$,Y,Q,Z,ee,te,ne,ae,re,ie,oe,se,ce,de=N,ue=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(t),a=new Uint8Array(n.length),r=0;r<n.length;++r)a[r]=n.charCodeAt(r);return a},le=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,o,s,c,d,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=navigator,a=n.permissions,o=n.serviceWorker,s=function(){var e=Object(i.a)(r.a.mark((function e(){var n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=11;break}return e.next=3,o.ready;case 3:if(n=e.sent,!(a=n.pushManager)){e.next=11;break}return e.next=8,a.subscribe({userVisibleOnly:!0,applicationServerKey:ue(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PUBLIC_VAPID_KEY)});case 8:return i=e.sent,e.next=11,b.a.post(t,i);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!a){e.next=18;break}return c={name:"push",userVisibleOnly:!0},e.next=7,a.query(c);case 7:d=e.sent,u=d.state,e.t0=u,e.next="granted"===e.t0?12:"prompt"===e.t0?14:16;break;case 12:case 14:return s(),e.abrupt("break",16);case 16:e.next=19;break;case 18:s();case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(0),console.log(e.t1);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),pe=le,he=n(14),fe=(n(305),n(43)),me=n(149),xe=n(80),ge=n.n(xe),be={socket:void 0},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case v.SET_SOCKET:return Object(A.a)(Object(A.a)({},e),{},{socket:n});default:return e}},je={loading:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case v.SET_LOADING:return Object(A.a)(Object(A.a)({},e),{},{loading:n});default:return e}},Oe={apiFeedback:""},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case v.SET_API_FEEDBACK:return Object(A.a)(Object(A.a)({},e),{},{apiFeedback:n});default:return e}},ke={role:"guest"},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case v.SET_ROLE:return Object(A.a)(Object(A.a)({},e),{},{role:n});default:return e}},Se={lastUnreadMessageIndex:void 0,unreadMessagesAmount:0},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case v.SET_LAST_UNREAD_MESSAGE_INDEX:return Object(A.a)(Object(A.a)({},e),{},{lastUnreadMessageIndex:n});case v.SET_UNREAD_MESSAGES_AMOUNT:return Object(A.a)(Object(A.a)({},e),{},{unreadMessagesAmount:n});default:return e}},Ae={key:"role",storage:ge.a},Me={key:"messagesInfo",storage:ge.a},Ee=Object(he.combineReducers)({socket:we,loader:ve,apiFeedback:ye,role:Object(fe.a)(Ae,Ce),messagesInfo:Object(fe.a)(Me,Ie)}),Be=(Object(me.a)({reducer:Ee}),Ee),Te=Object(he.createStore)(Be),Pe=Object(fe.b)(Te),Ne=function(e){return Te.dispatch({type:v.SET_LOADING,payload:e})},Ue=function(e){if(e.response){var t=e.response.status,n=e.response.data.error;return 401!==t&&403!==t||(Ke.setRole("guest"),Ke.history.push("/?failedAuthentication=true")),n?Ke.setApiFeedback(n):Ke.setApiFeedback("The connection could not be established with the server")}if(e.request)return Ke.setApiFeedback("The server cannot temporarily process your request");Ke.setApiFeedback("The app has encountered an unexpected error")},ze=function(e,t){var n={},a=e.response;a&&422===a.status&&(a.data.results.map((function(e){var t=e.parameter,a=e.error;return n=Object(A.a)(Object(A.a)({},n),{},Object(I.a)({},"".concat(t,"Error"),a))})),t((function(e){return Object(A.a)(Object(A.a)({},e),n)})))},Le=function(e){return Te.dispatch({type:v.SET_ROLE,payload:e})},_e=function(e){return Te.dispatch({type:v.SET_API_FEEDBACK,payload:e})},He=function(){return"ontouchstart"in document.documentElement},Fe=n(24),Re=Object(Fe.a)(),De=Re,Ve={regex:{images:/jpg|jpeg|png|gif/i,videos:/mp4/i,files:/txt|rtf|doc|docx|xlsx|ppt|pptx|pdf/i},sizes:{imageMaxSize:31457280,maxVideoSize:52428800,maxFileSize:10485760}},Ge=Ve,We=function(e){return"https://ui-avatars.com/api/?background=ffff00&name=".concat(e.charAt(0))},qe={axios:de,subscribePushNotifications:pe,setLoading:Ne,handleApiError:Ue,handleApiValidation:ze,setRole:Le,setApiFeedback:_e,detectMobileDevice:He,history:De,filesInfo:Ge,defaultAvatar:We},Ke=qe,Je=function(e){"admin"===e&&Ke.history.push("/admin/profile"),"user"===e&&Ke.history.push("/user/profile")},Xe={checkRole:Je},$e=Xe,Ye=function(){var e=P.useRole().role;Object(o.useEffect)((function(){$e.checkRole(e)}),[])},Qe={useHelpers:Ye},Ze=Qe,et=n(1),tt=h.c.section.withConfig({displayName:"Guest__GuestContainer",componentId:"sc-1cpzrwz-0"})(["height:100%;"]),nt=function(e){var t=e.children;return Ze.useHelpers(),Object(et.jsx)(tt,{children:t})},at=n(51),rt=n.n(at),it=function(e){"admin"!==e&&Ke.history.push("/")},ot={checkRole:it},st=ot,ct=function(){var e=P.useSocket(),t=e.socket,n=e.setSocket,a=e.clearSocket,r=P.useRole().role;return Object(o.useEffect)((function(){t||n(rt()("/admin")),st.checkRole(r)}),[]),{clearSocket:a}},dt={useHelpers:ct},ut=dt,lt=n(8),pt=h.c.h1.withConfig({displayName:"Brand",componentId:"sc-1p8vjj3-0"})(["font-size:30px;text-shadow:1px 1px black;@media (max-width:","){font-size:28px;}@media (max-width:","){font-size:26px;}@media (max-width:","){font-size:24px;}@media (max-width:","){font-size:22px;}"],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint})),ht=n(5),ft=h.c.div.withConfig({displayName:"Hamburger",componentId:"sc-1yaz7uf-0"})(["cursor:pointer;transition:all ease-in-out 0.3s;transition-property:right,transform;position:absolute;top:50%;right:calc(0% - 40px);transform:translate(-50%,-50%);z-index:2;@media (max-width:","){right:calc(0% + 20px);}",""],(function(e){return e.theme.secondBreakpoint}),(function(e){return e.withHamburger?Object(h.b)(U||(U=Object(ht.a)(["\n                  transform: translate(-50%, -50%) rotate(45deg);\n              "]))):null})),mt=h.c.ul.withConfig({displayName:"Menu",componentId:"sc-1fj1ctm-0"})(["width:100%;height:100%;background:",";transition:transform ease-in-out 0.5s;display:flex;justify-content:center;align-items:center;flex-direction:column;position:fixed;top:0px;left:0px;transform:translateX(100%);z-index:1;",""],(function(e){return e.theme.primaryColor}),(function(e){return e.withHamburger?Object(h.b)(z||(z=Object(ht.a)(["\n                  @media (max-width: 1000px) {\n                      transform: translateX(0px);\n                  }\n              "]))):null})),xt=h.c.div.withConfig({displayName:"Line",componentId:"sc-1jr5o0h-0"})(["width:20px;border-bottom:3px solid black;margin-bottom:4px;transition:0.5s ease-in-out;&:last-of-type{margin-bottom:0px;}",""],(function(e){return e.withHamburger?Object(h.b)(L||(L=Object(ht.a)(["\n                  margin-bottom: 0px;\n                  &:nth-child(1) {\n                      opacity: 0;\n                  }\n                  &:nth-child(3) {\n                      transform: rotate(90deg) translateX(-2.8px);\n                  }\n              "]))):null})),gt=h.c.ul.withConfig({displayName:"Links",componentId:"sc-1eu8rfb-0"})(["display:flex;justify-content:center;align-items:center;transition:all ease-in-out 0.3s;@media (max-width:","){","}"],(function(e){return e.theme.secondBreakpoint}),(function(e){return e.hamburger&&Object(h.b)(_||(_=Object(ht.a)(["\n                transform: translateX(calc(100% + 41px));\n            "])))})),bt=h.c.li.withConfig({displayName:"Link",componentId:"sc-o3orpi-0"})(["margin-right:20px;white-space:nowrap;cursor:pointer;transition:all ease-in-out 0.5s;transition-property:margin,font-size;position:relative;&:hover{font-weight:bold;}&:last-of-type{margin-right:0px;margin-bottom:0px;}@media (max-width:","){font-size:15px;}@media (max-width:","){font-size:14px;display:flex;}@media (max-width:","){font-size:13px;}@media (max-width:","){font-size:12px;}"," "," ",""],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint}),(function(e){return e.active?Object(h.b)(H||(H=Object(ht.a)(["\n                  font-weight: bold;\n              "]))):null}),(function(e){var t=e.counter;return t?Object(h.b)(F||(F=Object(ht.a)(["\n                  &::after {\n                      width: 20px;\n                      height: 20px;\n                      background: ",";\n                      padding-top: 2px;\n                      border: 1px solid black;\n                      border-radius: 50%;\n                      cursor: initial;\n                      content: '","';\n                      font-size: 11px;\n                      font-weight: bold;\n                      color: black;\n                      display: flex;\n                      justify-content: center;\n                      align-items: center;\n                      position: absolute;\n                      top: -18px;\n                      right: -18px;\n                      @media (max-width: ",") {\n                          margin-left: 8px;\n                          background: black;\n                          color: white;\n                          position: static;\n                      }\n                  }\n              "])),(function(e){return e.theme.primaryColor}),t,(function(e){return e.theme.secondBreakpoint})):null}),(function(e){return e.withHamburger?Object(h.b)(R||(R=Object(ht.a)(["\n                  margin-right: 0px;\n                  margin-bottom: 15px;\n                  @media (max-width: ",") {\n                      font-size: 16px;\n                  }\n                  @media (max-width: ",") {\n                      font-size: 15px;\n                  }\n                  @media (max-width: ",") {\n                      font-size: 14px;\n                  }\n                  @media (max-width: ",") {\n                      font-size: 13px;\n                  }\n              "])),(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint})):null})),wt={Brand:pt,Hamburger:ft,Menu:mt,Line:xt,Links:gt,Link:bt},jt=wt,vt=h.c.nav.withConfig({displayName:"Navbar__NavbarContainer",componentId:"sc-u0pmam-0"})(["width:100%;height:80px;padding:0px 40px;display:flex;justify-content:space-between;align-items:center;position:fixed;top:0px;left:0px;z-index:2;@media (max-width:","){padding:0px 30px;height:65px;}"],(function(e){return e.theme.additionalBreakpoint})),Ot=function(e){var t=e.links,n=e.hamburger,a=Object(u.e)(),r=Object(o.useState)(!1),i=Object(lt.a)(r,2),s=i[0],c=i[1],d=n&&s;return Object(et.jsxs)(vt,{children:[Object(et.jsx)(jt.Brand,{children:"evo4x"}),n&&Object(et.jsxs)(jt.Hamburger,{onClick:function(){return c((function(e){return!e}))},withHamburger:d,children:[Object(et.jsx)(jt.Line,{withHamburger:d}),Object(et.jsx)(jt.Line,{withHamburger:d}),Object(et.jsx)(jt.Line,{withHamburger:d})]}),Object(et.jsx)(jt.Menu,{withHamburger:d,children:t.map((function(e){var t=e.link,n=e.pathname,r=e.counter,i=e.onClick;return Object(et.jsx)(jt.Link,{onClick:i||function(){return Ke.history.push(n)},active:n===a.pathname,counter:r,withHamburger:d,children:t},t)}))}),Object(et.jsx)(jt.Links,{hamburger:n,children:t.map((function(e){var t=e.link,n=e.pathname,r=e.counter,i=e.onClick;return Object(et.jsx)(jt.Link,{onClick:i||function(){return Ke.history.push(n)},active:n===a.pathname,counter:r,children:t},t)}))})]})},yt=function(e,t){var n=t.chat,a=t.currentUser,r=t.lastUnreadMessageIndex,i=t.unreadMessagesAmount,o=t.setLastUnreadMessageIndex,s=t.setUnreadMessagesAmount;!n&&e.user.id!==a.id&&(s(i+1),o(r?r+1:1))},kt=function(e){"user"!==e&&Ke.history.push("/?failedAuthentication=true")},Ct=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setCurrentUser,a=t.setLastUnreadMessageIndex,i=t.setUnreadMessagesAmount,"/api/user/communication/getUnreadMessagesInfo",e.next=4,Ke.axios.get("/api/user/communication/getUnreadMessagesInfo");case 4:(o=e.sent)&&(s=o.data,c=s.user,d=s.lastUnreadMessageIndex,u=s.unreadMessagesAmount,n(c),a(d),i(u));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=Ct,It=function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/global/auth/logout",e.next=3,Ke.axios.get("/api/global/auth/logout");case 3:e.sent&&(sessionStorage.clear(),t(),Ke.setRole("guest"),Ke.history.push("/"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),At=It,Mt={handleOnSendMessage:yt,checkRole:kt,getUnreadMessagesInfo:St,logout:At},Et=Mt,Bt=function(e){return[{link:"Analysis",pathname:"/admin/analysis"},{link:"Logout",onClick:function(){return Et.logout(e)}}]},Tt={links:Bt},Pt=Tt,Nt=h.c.section.withConfig({displayName:"Admin__AdminContainer",componentId:"sc-fjpr06-0"})(["height:100%;padding-top:80px;@media (max-width:","){padding-top:65px;}"],(function(e){return e.theme.additionalBreakpoint})),Ut=function(e){var t=e.children,n=P.useSocket().clearSocket,a=P.useRole().role;return ut.useHelpers(),"admin"===a?Object(et.jsxs)(Nt,{children:[Object(et.jsx)(Ot,{links:Pt.links(n),hamburger:!0}),t]}):null},zt=function(e){var t=P.useSocket(),n=t.socket,a=t.setSocket,r=P.useRole().role,i=P.useMessagesInfo(),s=i.lastUnreadMessageIndex,c=i.unreadMessagesAmount,d=i.setLastUnreadMessageIndex,u=i.setUnreadMessagesAmount,l=Object(o.useState)(),p=Object(lt.a)(l,2),h=p[0],f=p[1],m=function(t){Et.handleOnSendMessage(t,{chat:e,currentUser:h,lastUnreadMessageIndex:s,unreadMessagesAmount:c,setLastUnreadMessageIndex:d,setUnreadMessagesAmount:u})};Object(o.useEffect)((function(){return n&&n.on("sendMessage",m),function(){n&&n.off("sendMessage",m)}}),[n,h,c]);Object(o.useEffect)((function(){n||a(rt()("/user")),Et.checkRole(r),Et.getUnreadMessagesInfo({setCurrentUser:f,setLastUnreadMessageIndex:d,setUnreadMessagesAmount:u})}),[])},Lt={useHelpers:zt},_t=Lt,Ht=function(e,t){return[{link:"Profile",pathname:"/user/profile"},{link:"Analysis",pathname:"/user/analysis"},{link:"Chat",pathname:"/user/chat",counter:e<=99?e:99},{link:"Sessions",pathname:"/user/sessions"},{link:"Events",pathname:"/user/events"},{link:"Indicators",pathname:"/user/indicators"},{link:"Mottos",pathname:"/user/mottos"},{link:"Aha-moments",pathname:"/user/aha-moments"},{link:"Mentors",pathname:"/user/mentors"},{link:"Logout",onClick:function(){return Et.logout(t)}}]},Ft={links:Ht},Rt=Ft,Dt=h.c.section.withConfig({displayName:"User__UserContainer",componentId:"sc-1uxxvl7-0"})(["height:100%;padding-top:80px;@media (max-width:","){padding-top:65px;}"],(function(e){return e.theme.additionalBreakpoint})),Vt=function(e){var t=e.children,n=e.chat,a=P.useSocket().clearSocket,r=P.useRole().role,i=P.useMessagesInfo().unreadMessagesAmount;return _t.useHelpers(n),"user"===r?Object(et.jsxs)(Dt,{children:[Object(et.jsx)(Ot,{links:Rt.links(i,a),hamburger:!0}),t]}):null},Gt=function(){return{loading:j((function(e){return e.loader})).loading}},Wt={useLoader:Gt},qt=Wt,Kt=h.c.section.withConfig({displayName:"BlackLayer",componentId:"sc-1lnsg1x-0"})(["width:100%;height:100%;transition:background ease-in-out 0.3s;position:absolute;z-index:3;pointer-events:none;",""],(function(e){return e.showLayer?Object(h.b)(D||(D=Object(ht.a)(["\n                  background: rgba(0, 0, 0, 0.5);\n                  pointer-events: auto;\n              "]))):null})),Jt=h.c.button.withConfig({displayName:"Button",componentId:"sc-1sa5eh5-0"})(["background:black;color:white;font-size:14px;border-radius:5px;@media (max-width:","){font-size:13px;}@media (max-width:","){font-size:12px;}"],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint})),Xt={BlackLayer:Kt,Button:Jt},$t=Xt,Yt=Object(h.d)(V||(V=Object(ht.a)(["\n    0% {\n        transform: rotateZ(0deg) scale(1);\n    }\n    50% {\n        transform: rotateZ(360deg) scale(1.3);\n    }\n    100% {\n        transform: rotateZ(720deg) scale(1);\n    }\n"]))),Qt=h.c.img.withConfig({displayName:"Logo",componentId:"sc-17qqu9z-0"})(["width:40px;border-radius:10px;box-shadow:0px 0px 15px -10px black;transition:bottom ease-in-out 0.3s;animation:"," ease-in-out 2s infinite alternate 0.3s;position:fixed;bottom:-52px;left:20px;z-index:2;@media (max-width:","){width:38px;}@media (max-width:","){width:36px;}@media (max-width:","){width:34px;}@media (max-width:","){width:32px;}",""],Yt,(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint}),(function(e){return e.$loading?Object(h.b)(G||(G=Object(ht.a)(["\n                  bottom: 20px;\n              "]))):null})),Zt={Logo:Qt},en=Zt,tn=n.p+"static/media/Logo.4e59e360.png",nn=Object(h.c)($t.BlackLayer).withConfig({displayName:"Loader__LoaderContainer",componentId:"sc-da8aqa-0"})(["position:fixed;z-index:4;"]),an=function(){var e=qt.useLoader().loading;return Object(et.jsx)(nn,{showLayer:e,children:Object(et.jsx)(en.Logo,{src:tn,$loading:e})})},rn=h.c.div.withConfig({displayName:"Analysis__AnalysisContainer",componentId:"sc-s7u6pb-0"})([""]),on=function(){return Object(et.jsx)(rn,{})},sn=function(e){var t=e.emailToken,n=e.setShowLoginModal,a=function(){var e=Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),"/api/user/auth/authenticateEmail",e.next=4,Ke.axios.post("/api/user/auth/authenticateEmail",{emailToken:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t&&a()},cn={authenticateEmail:sn},dn=cn,un=function(e){var t=e.setShowLoginModal,n=P.useQueryParams().emailToken;Object(o.useEffect)((function(){dn.authenticateEmail({emailToken:n,setShowLoginModal:t})}),[n]);return{handleToggler:function(e){return e((function(e){return!e}))}}},ln={useHelpers:un},pn=ln,hn=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,a=t.form,i=t.setForm,o=t.formHandler,n.preventDefault(),!gn.validate({form:a,setForm:i,formHandler:o})){e.next=13;break}return e.prev=3,"/api/user/auth/register",s=a.name,c=a.email,d=a.password,u=a.repeatedPassword,e.next=8,Ke.axios.post("/api/user/auth/register",{name:s,email:c,password:d,repeatedPassword:u});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Ke.handleApiValidation(e.t0,i);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),fn=hn,mn=function(e){var t=e.form,n=e.setForm,a=e.formHandler,r=!0;n((function(e){return Object(A.a)(Object(A.a)({},e),{},{nameError:"",emailError:"",passwordError:"",repeatedPasswordError:""})}));var i=t.name,o=t.email,s=t.password,c=t.repeatedPassword;return a.validateProperty("name",i)||(r=!1),a.validateEmail(o)||(r=!1),a.validatePassword(s,c,!1)||(r=!1),a.validateRepeatedPassword(c,s)||(r=!1),r},xn={register:fn,validate:mn},gn=xn,bn=function(){var e=Object(o.useState)({name:"",nameError:"",email:"",emailError:"",password:"",passwordError:"",repeatedPassword:"",repeatedPasswordError:""}),t=Object(lt.a)(e,2),n=t[0],a=t[1],r=P.useFormHandler(a);return{form:n,formHandler:r,register:function(e){gn.register({event:e,form:n,setForm:a,formHandler:r})}}},wn={useForm:bn},jn=wn,vn=function(){var e=j((function(e){return e.apiFeedback})).apiFeedback;return Object(o.useEffect)((function(){e&&setTimeout((function(){return Ke.setApiFeedback("")}),5e3)}),[e]),{apiFeedback:e}},On={useApiFeedback:vn},yn=On,kn=Object(h.c)($t.Button).withConfig({displayName:"ApiFeedback__ApiFeedbackContainer",componentId:"sc-1ebkyfp-0"})(["max-width:85%;margin:40px auto 0px auto;padding:10px 20px;border-radius:0px;cursor:initial;@media (max-width:","){max-width:100%;}@media (max-width:","){font-size:11px;}@media (max-width:","){font-size:10px;}"],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint})),Cn=function(){var e=yn.useApiFeedback().apiFeedback;return e?Object(et.jsx)(kn,{as:"p",children:e}):null},Sn=h.c.dialog.withConfig({displayName:"Content",componentId:"sc-ni17sy-0"})(["width:50%;min-height:70%;background:",";padding:40px 0px;border-radius:10px;transition:width ease-in-out 0.3s,min-height ease-in-out 0.3s,border-radius ease-in-out 0.3s,transform ease-in-out 0.6s,top ease-in-out 0.6s;display:flex;justify-content:center;align-items:center;flex-direction:column;position:absolute;top:0%;left:50%;transform:translate(-50%,-100%);@media (max-width:","){width:60%;}@media (max-width:","){width:80%;}@media (max-width:","){width:100%;min-height:100%;border-radius:0px;}",""],(function(e){return e.theme.primaryColor}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint}),(function(e){return e.showModal?Object(h.b)(W||(W=Object(ht.a)(["\n                  top: 50%;\n                  transform: translate(-50%, -50%);\n              "]))):null})),In=h.c.div.withConfig({displayName:"CloseButton",componentId:"sc-65b1zd-0"})(["font-size:25px;font-weight:bold;text-shadow:1px 1px white;cursor:pointer;position:absolute;top:25px;right:30px;@media (max-width:","){font-size:23px;}@media (max-width:","){font-size:21px;}@media (max-width:","){font-size:19px;}@media (max-width:","){font-size:17px;}"],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint})),An=h.c.h2.withConfig({displayName:"Header",componentId:"sc-1ftzl8r-0"})(["max-height:92px;margin-bottom:30px;font-size:25px;white-space:pre-line;line-height:2;font-weight:bold;text-shadow:1px 1px white;transition:all 0.3s ease-in-out;transition-property:max-height,margin-bottom,transform;@media (max-width:","){font-size:23px;}@media (max-width:","){font-size:21px;}@media (max-width:","){font-size:19px;}@media (max-width:","){font-size:17px;}",""],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint}),(function(e){return e.scaleOut?Object(h.b)(q||(q=Object(ht.a)(["\n                  max-height: 0px;\n                  margin-bottom: 0px;\n                  transform: scale(0);\n              "]))):null})),Mn=h.c.form.withConfig({displayName:"Form",componentId:"sc-1ob7td6-0"})(["width:70%;"]),En=h.c.label.withConfig({displayName:"Label",componentId:"sc-9f4ab0-0"})(["font-size:15px;@media (max-width:","){font-size:14px;}@media (max-width:","){font-size:13px;}@media (max-width:","){font-size:12px;}@media (max-width:","){font-size:11px;}"],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint})),Bn={Content:Sn,CloseButton:In,Header:An,Form:Mn,Label:En,Input:h.c.input.withConfig({displayName:"Input",componentId:"sc-jd9v4t-0"})(["width:100%;padding:10px 0px;border-bottom:1px solid black;@media (max-width:","){font-size:15px;}@media (max-width:","){font-size:14px;}@media (max-width:","){font-size:13px;}@media (max-width:","){font-size:12px;}"],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint})),Textarea:h.c.textarea.withConfig({displayName:"Textarea",componentId:"sc-idwxz3-0"})(["width:100%;min-height:150px;margin-top:10px;padding:10px;resize:none;"]),Error:h.c.p.withConfig({displayName:"Error",componentId:"sc-ktwojc-0"})(["margin-top:5px;font-size:12px;text-align:left;@media (max-width:","){font-size:11px;}@media (max-width:","){font-size:10px;}"],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint})),Submit:Object(h.c)($t.Button).withConfig({displayName:"Submit",componentId:"sc-ihhnuk-0"})(["max-height:0px;margin:0px auto;padding:0px;overflow:hidden;transition:all 0.3s ease-in-out;transition-property:max-height,margin,padding;",""],(function(e){var t=e.scaleIn;return t||void 0===t?Object(h.b)(K||(K=Object(ht.a)(["\n                  max-height: 43px;\n                  margin: 40px auto 0px auto;\n                  padding: 12px 30px;\n              "]))):null}))},Tn=h.c.div.withConfig({displayName:"Input__InputContainer",componentId:"sc-fc30iw-0"})(["width:100%;margin-bottom:20px;&:last-of-type{margin-bottom:0px;}"]),Pn={Input:function(e){var t=e.id,n=e.name,a=e.type,r=e.label,i=e.value,o=e.placeholder,s=e.error,c=e.onChange;return Object(et.jsxs)(Tn,{children:[Object(et.jsx)(Bn.Label,{htmlFor:t,children:r}),"textarea"===a?Object(et.jsx)(Bn.Textarea,{id:t,name:n,value:i,placeholder:o,onChange:c}):Object(et.jsx)(Bn.Input,{id:t,name:n,type:a,value:i,placeholder:o,onChange:c}),s&&Object(et.jsx)(Bn.Error,{children:s})]})}},Nn=Object(h.c)($t.BlackLayer).withConfig({displayName:"RegistrationModal__RegistrationModalContainer",componentId:"sc-1i9psoy-0"})([""]),Un=function(e){var t=e.showModal,n=e.toggleModal,a=jn.useForm(),r=a.form,i=r.name,o=r.nameError,s=r.email,c=r.emailError,d=r.password,u=r.passwordError,l=r.repeatedPassword,p=r.repeatedPasswordError,h=a.formHandler,f=a.register,m=!!i&&!!s&&!!d&&!!l;return Object(et.jsx)(Nn,{showLayer:t,children:Object(et.jsxs)(Bn.Content,{showModal:t,children:[Object(et.jsx)(Bn.CloseButton,{onClick:n,children:"\u2715"}),Object(et.jsx)(Bn.Header,{scaleOut:m,children:'"You either win or learn - \n                    not win or lose"'}),Object(et.jsxs)(Bn.Form,{onSubmit:f,noValidate:!0,children:[Object(et.jsx)(Pn.Input,{id:"name",name:"name",type:"text",label:"Name",value:i,placeholder:"Type your name",error:o,onChange:h.handleInputValue}),Object(et.jsx)(Pn.Input,{id:"registrationEmail",name:"email",type:"email",label:"Email address",value:s,placeholder:"Type your email address",error:c,onChange:h.handleInputValue}),Object(et.jsx)(Pn.Input,{id:"registrationPassword",name:"password",type:"password",label:"Password",value:d,placeholder:"Type your password",error:u,onChange:h.handleInputValue}),Object(et.jsx)(Pn.Input,{id:"registrationRepeatedPassword",name:"repeatedPassword",type:"password",label:"Password again",value:l,placeholder:"Type your password again",error:p,onChange:h.handleInputValue}),Object(et.jsx)(Bn.Submit,{scaleIn:m,children:"Join evo4x"}),Object(et.jsx)(Cn,{})]})]})})},zn={login:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,a=t.role,i=t.form,o=t.setForm,s=t.formHandler,n.preventDefault(),!zn.validate({form:i,setForm:o,formHandler:s})){e.next=15;break}return e.prev=3,c="/api/".concat(a,"/auth/login"),d=i.email,u=i.password,e.next=8,Ke.axios.post(c,{email:d,password:u});case 8:e.sent&&(Ke.setRole(a),Ke.history.push("admin"===a?"/admin/analysis":"/user/profile")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),Ke.handleApiValidation(e.t0,o);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){var t=e.form,n=e.setForm,a=e.formHandler,r=!0;n((function(e){return Object(A.a)(Object(A.a)({},e),{},{emailError:"",passwordError:""})}));var i=t.email,o=t.password;return a.validateEmail(i)||(r=!1),a.validatePassword(o,"",!0)||(r=!1),r}},Ln={useForm:function(e){var t=e.role,n=Object(o.useState)({email:"",emailError:"",password:"",passwordError:""}),a=Object(lt.a)(n,2),r=a[0],i=a[1],s=P.useFormHandler(i);return{form:r,formHandler:s,login:function(e){zn.login({event:e,role:t,form:r,setForm:i,formHandler:s})}}}},_n=Object(h.c)($t.BlackLayer).withConfig({displayName:"LoginModal__LoginModalContainer",componentId:"sc-1r44mtx-0"})([""]),Hn=function(e){var t=e.role,n=e.setRole,a=e.showModal,r=e.toggleModal,i=Ln.useForm({role:t}),o=i.form,s=o.email,c=o.emailError,d=o.password,u=o.passwordError,l=i.formHandler,p=i.login;return Object(et.jsx)(_n,{showLayer:a,children:Object(et.jsxs)(Bn.Content,{showModal:a,children:[Object(et.jsx)(Bn.CloseButton,{onClick:function(){n("user"),r()},children:"\u2715"}),Object(et.jsx)(Bn.Header,{children:'"Get rich or die trying"'}),Object(et.jsxs)(Bn.Form,{onSubmit:p,noValidate:!0,children:[Object(et.jsx)(Pn.Input,{id:"loginEmail",name:"email",type:"email",label:"Email address",value:s,placeholder:"Type your email address",error:c,onChange:l.handleInputValue}),Object(et.jsx)(Pn.Input,{id:"loginPassword",name:"password",type:"password",label:"Password",value:d,placeholder:"Type your password",error:u,onChange:l.handleInputValue}),Object(et.jsx)(Bn.Submit,{children:"Login"}),Object(et.jsx)(Cn,{})]})]})})},Fn={Header:h.c.div.withConfig({displayName:"Header",componentId:"sc-1cb1em1-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;flex:0.5;@media (max-width:","){display:none;}"],(function(e){return e.theme.additionalBreakpoint})),Logo:h.c.img.withConfig({displayName:"Logo",componentId:"sc-11dalzs-0"})(["width:200px;margin-bottom:50px;@media (max-width:","){width:150px;}@media (max-width:","){width:130px;}",""],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.mobile?Object(h.b)(J||(J=Object(ht.a)(["\n                  display: none;\n                  @media (max-width: ",") {\n                      width: 80px;\n                      margin: 30px auto 0px auto;\n                      display: block;\n                  }\n                  @media (max-width: ",") {\n                      width: 70px;\n                  }\n                  @media (max-width: ",") {\n                      width: 60px;\n                  }\n              "])),(function(e){return e.theme.additionalBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint})):null})),HiddenButton:h.c.button.withConfig({displayName:"HiddenButton",componentId:"sc-ya1kp5-0"})(["width:30px;height:30px;cursor:initial;position:absolute;bottom:0px;right:0px;"]),Button:h.c.button.withConfig({displayName:"Button",componentId:"sc-hclnm8-0"})(["margin:60px auto 0px auto;padding:15px 20px 10px 20px;border-bottom:3px solid ",";text-shadow:1px 1px white;font-size:22px;transition:all ease-in-out 0.3s;transition-property:border-radius,box-shadow;&:hover{border-radius:10px;box-shadow:inset 0px -58px ",";}@media (max-width:","){font-size:20px;}@media (max-width:","){font-size:18px;}@media (max-width:","){margin-top:30px;}@media (max-width:","){padding:13px 15px 8px 15px;font-size:16px;}@media (max-width:","){font-size:14px;}",""],(function(e){return e.theme.primaryColor}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.additionalBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint}),(function(e){return e.$fill?Object(h.b)(X||(X=Object(ht.a)(["\n                  border-radius: 10px;\n                  box-shadow: inset 0px -58px ",";\n              "])),(function(e){return e.theme.primaryColor})):null})),Advantages:h.c.ul.withConfig({displayName:"Advantages",componentId:"sc-17fqgv4-0"})(["@media (max-width:","){padding:0px 20px;}"],(function(e){return e.theme.thirdBreakpoint})),Advantage:h.c.li.withConfig({displayName:"Advantage",componentId:"sc-10unzdq-0"})(["margin-bottom:30px;font-size:20px;display:flex;justify-content:center;align-items:center;&:last-of-type{margin-bottom:0px;}@media (max-width:","){font-size:18px;}@media (max-width:","){font-size:16px;}@media (max-width:","){font-size:14px;}@media (max-width:","){font-size:12px;}"],(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint})),Dollar:h.c.div.withConfig({displayName:"Dollar",componentId:"sc-wj6e9f-0"})(["margin-right:10px;font-size:25px;font-weight:bold;text-shadow:2px 2px ",";@media (max-width:","){font-size:23px;}@media (max-width:","){font-size:21px;}@media (max-width:","){font-size:19px;}@media (max-width:","){font-size:17px;}"],(function(e){return e.theme.primaryColor}),(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint}))},Rn={handleQueryParams:function(e){var t=e.params,n=e.setIssue,a=e.toggleSidebar,r=e.showLoginModal,i=t.failedAuthentication,o=t.passwordToken;i&&r(),o&&(n("changePassword"),a())},handleHelpSidebar:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u,l,p,h,f,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,a=t.form,i=t.passwordToken,o=t.setForm,s=t.formHandler,c=t.issue,d=t.setIssue,u=t.hideSidebar,l=t.showLoginModal,n.preventDefault(),!Rn.validate({form:a,setForm:o,issue:c,formHandler:s})){e.next=22;break}if(e.prev=3,"changePassword"!==c){e.next=13;break}return"/api/user/auth/changePassword",p=a.password,h=a.repeatedPassword,e.next=9,Ke.axios.post("/api/user/auth/changePassword",{password:p,repeatedPassword:h,passwordToken:i});case 9:e.sent&&(d(""),u(),l()),e.next=17;break;case 13:return f="/api/user/auth/".concat("password"===c?"requestPasswordChange":"resendEmail"),m=a.email,e.next=17,Ke.axios.post(f,{email:m});case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),Ke.handleApiValidation(e.t0,o);case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){var t=e.issue,n=e.form,a=e.setForm,r=e.formHandler,i=!0;if(a((function(e){return Object(A.a)(Object(A.a)({},e),{},{emailError:"",passwordError:"",repeatedPasswordError:""})})),"changePassword"===t){var o=n.password,s=n.repeatedPassword;r.validatePassword(o,"",!1)||(i=!1),r.validateRepeatedPassword(s,o)||(i=!1)}else{var c=n.email;r.validateEmail(c)||(i=!1)}return i}},Dn={useHelpSidebar:function(e){var t=e.toggleSidebar,n=e.hideSidebar,a=e.showLoginModal,r=P.useQueryParams(),i=Object(o.useState)({email:"",emailError:"",password:"",passwordError:"",repeatedPassword:"",repeatedPasswordError:""}),s=Object(lt.a)(i,2),c=s[0],d=s[1],u=P.useFormHandler(d),l=Object(o.useState)(""),p=Object(lt.a)(l,2),h=p[0],f=p[1];Object(o.useEffect)((function(){Rn.handleQueryParams({params:r,setIssue:f,toggleSidebar:t,showLoginModal:a})}),[]);return{form:c,formHandler:u,issue:h,setIssue:f,handleHelpSidebar:function(e){Rn.handleHelpSidebar({event:e,form:c,passwordToken:r.passwordToken,setForm:d,formHandler:u,issue:h,setIssue:f,hideSidebar:n,showLoginModal:a})}}}},Vn={Content:h.c.aside.withConfig({displayName:"Content",componentId:"sc-849k7b-0"})(["width:350px;height:100%;padding-top:40px;background:",";box-shadow:-5px 0px 15px -10px white;transition:width ease-in-out 0.3s,transform ease-in-out 0.6s;display:flex;justify-content:center;align-items:center;flex-direction:column;position:absolute;right:0px;transform:translateX(100%);@media (max-width:","){width:300px;}@media (max-width:","){width:100%;}",""],(function(e){return e.theme.primaryColor}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint}),(function(e){return e.showSidebar?Object(h.b)($||($=Object(ht.a)(["\n                  transform: translateX(0px);\n              "]))):null})),Issue:Object(h.c)($t.Button).withConfig({displayName:"Issue",componentId:"sc-1t55iqc-0"})(["max-width:80%;margin-bottom:40px;padding:10px 20px;border-radius:0px;cursor:pointer;&:hover{transform:scale(1.03);}&:last-of-type{margin-bottom:0px;}",""],(function(e){return e.active?Object(h.b)(Y||(Y=Object(ht.a)(["\n                  transform: scale(1.03);\n                  border-bottom: 2px solid white;\n              "]))):null})),Form:h.c.form.withConfig({displayName:"Form",componentId:"sc-90jybl-0"})(["width:80%;margin-top:40px;"])},Gn={issues:function(e,t){return[{issue:"Have not you received any e-mail?",active:"email"===e,handleOnClick:function(){return t("email")}},{issue:"Has the link to authenticate your email address expired?",active:"link"===e,handleOnClick:function(){return t("link")}},{issue:"Did you forget the password?",active:"password"===e,handleOnClick:function(){return t("password")}}]}},Wn=Object(h.c)($t.BlackLayer).withConfig({displayName:"HelpSidebar__HelpSidebarContainer",componentId:"sc-9r8jtt-0"})([""]),qn={HelpSidebar:function(e){var t=e.showSidebar,n=e.toggleSidebar,a=e.hideSidebar,r=e.showLoginModal,i=Dn.useHelpSidebar({toggleSidebar:n,hideSidebar:a,showLoginModal:r}),o=i.form,s=o.email,c=o.emailError,d=o.password,u=o.passwordError,l=o.repeatedPassword,p=o.repeatedPasswordError,h=i.formHandler,f=i.issue,m=i.setIssue,x=i.handleHelpSidebar;return Object(et.jsx)(Wn,{showLayer:t,children:Object(et.jsxs)(Vn.Content,{showSidebar:t,children:[Object(et.jsx)(Bn.CloseButton,{onClick:function(){setTimeout((function(){return m("")}),600),n()},children:"\u2715"}),Gn.issues(f,m).map((function(e){var t=e.issue,n=e.active,a=e.handleOnClick;return Object(et.jsx)(Vn.Issue,{active:n,onClick:a,children:t},t)})),f&&Object(et.jsxs)(Vn.Form,{onSubmit:x,noValidate:!0,children:["changePassword"===f?Object(et.jsxs)(et.Fragment,{children:[Object(et.jsx)(Pn.Input,{id:"helpSidebarPassword",name:"password",type:"password",label:"New password",value:d,placeholder:"Type your password",error:u,onChange:h.handleInputValue}),Object(et.jsx)(Pn.Input,{id:"helpSidebarRepeatedPassword",name:"repeatedPassword",type:"password",label:"Password again",value:l,placeholder:"Type your password again",error:p,onChange:h.handleInputValue})]}):Object(et.jsx)(Pn.Input,{id:"helpSidebarEmail",name:"email",type:"email",label:"Email address",value:s,placeholder:"Type your email address",error:c,onChange:h.handleInputValue}),Object(et.jsx)(Bn.Submit,{children:"email"===f?"Resend e-mail":"link"===f?"Resend link":"password"===f?"Request password change":"changePassword"===f&&"Change password"}),Object(et.jsx)(Cn,{})]})]})})}},Kn={links:function(e){var t=e.handleToggler,n=e.setShowLoginModal,a=e.setShowHelpSidebar;return[{link:"Indicators"},{link:"Login",onClick:function(){return t(n)}},{link:"Help",onClick:function(){return t(a)}}]}},Jn=h.c.section.withConfig({displayName:"Home__HomeContainer",componentId:"sc-ak53cr-0"})(["min-height:100%;padding:85px 0px;display:flex;justify-content:space-around;align-items:center;position:relative;&::before{content:'';width:100%;height:100%;background:",";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);clip-path:polygon(0 95%,100% 80%,100% 100%,0% 100%);@media (max-width:","){clip-path:polygon(0 95%,100% 85%,100% 100%,0% 100%);}@media (max-width:","){clip-path:polygon(0 95%,100% 88%,100% 100%,0% 100%);}}"],(function(e){return e.theme.primaryColor}),(function(e){return e.theme.additionalBreakpoint}),(function(e){return e.theme.fourthBreakpoint})),Xn=function(){var e=Object(o.useState)("user"),t=Object(lt.a)(e,2),n=t[0],a=t[1],r=Object(o.useState)(!1),i=Object(lt.a)(r,2),s=i[0],c=i[1],d=Object(o.useState)(!1),u=Object(lt.a)(d,2),l=u[0],p=u[1],h=Object(o.useState)(!1),f=Object(lt.a)(h,2),m=f[0],x=f[1],g=pn.useHelpers({setShowLoginModal:x}).handleToggler;return Object(et.jsxs)(Jn,{children:[Object(et.jsx)(qn.HelpSidebar,{showSidebar:s,toggleSidebar:function(){return g(c)},hideSidebar:function(){return c(!1)},showLoginModal:function(){return x(!0)}}),Object(et.jsx)(Un,{showModal:l,toggleModal:function(){return g(p)}}),Object(et.jsx)(Hn,{role:n,setRole:a,showModal:m,toggleModal:function(){return g(x)}}),Object(et.jsx)(Ot,{links:Kn.links({handleToggler:g,setShowLoginModal:x,setShowHelpSidebar:c})}),Object(et.jsxs)(Fn.Advantages,{children:[Object(et.jsxs)(Fn.Advantage,{children:[Object(et.jsx)(Fn.Dollar,{children:"$"}),"Straightforward trading message - keep it simple."]}),Object(et.jsxs)(Fn.Advantage,{children:[Object(et.jsx)(Fn.Dollar,{children:"$"}),"Profitable either poor analysis? We don't care - trust the process!"]}),Object(et.jsxs)(Fn.Advantage,{children:[Object(et.jsx)(Fn.Dollar,{children:"$"}),"Remember - it's a mental battle, not technical one."]}),Object(et.jsx)(Fn.Logo,{src:tn,alt:"evo4x",mobile:!0}),Object(et.jsx)(Fn.Button,{onClick:function(){return g(p)},$fill:l,children:"join evo4x's community"})]}),Object(et.jsx)(Fn.Header,{children:Object(et.jsx)(Fn.Logo,{src:tn,alt:"evo4x"})}),Object(et.jsx)(Fn.HiddenButton,{onDoubleClick:function(){a("admin"),x(!0)}})]})},$n={getProfile:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setProfile,a=t.setAvatar,i=function(){var e=JSON.parse(sessionStorage.getItem("profile"));if(e){var t=e.name,r=e.story,i=e.avatar;n((function(e){return Object(A.a)(Object(A.a)({},e),{},{name:t,story:r})})),a(i)}},e.prev=2,i(),"/api/user/profile/getProfile",e.next=7,Ke.axios.get("/api/user/profile/getProfile");case 7:(o=e.sent)&&(s=o.data,c=s.name,d=s.story,u=s.avatar,l={name:c,story:d,avatar:u},sessionStorage.setItem("profile",JSON.stringify(l)),n((function(e){return Object(A.a)(Object(A.a)({},e),{},{name:c,story:d})})),a(u)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),a(Ke.defaultAvatar(""));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),updateProfile:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u,l,p,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,a=t.profile,i=t.profileHandler,o=t.avatar,s=t.withDefaultAvatar,c=t.setProfile,d=t.setAvatar,n.preventDefault(),!$n.validateProfile({profile:a,setProfile:c,profileHandler:i})){e.next=17;break}return e.prev=3,"/api/user/profile/updateProfile",u=a.name,l=a.story,p=s?Ke.defaultAvatar(u):o,e.next=9,Ke.axios.post("/api/user/profile/updateProfile",{name:u,story:l,avatar:p});case 9:h={name:u,story:l,avatar:p},$n.updateCachedProfile(h),d(p),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),Ke.handleApiValidation(e.t0,c);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),updateCachedProfile:function(e){sessionStorage.setItem("profile",JSON.stringify(e))},updateCachedAvatar:function(e){var t=JSON.parse(sessionStorage.getItem("profile")),n=Object(A.a)(Object(A.a)({},t),{},{avatar:e});$n.updateCachedProfile(n)},validateProfile:function(e){var t=e.profile,n=e.setProfile,a=e.profileHandler,r=!0;n((function(e){return Object(A.a)(Object(A.a)({},e),{},{nameError:"",storyError:""})}));var i=t.name;return a.validateProperty("name",i)||(r=!1),r},changeAvatar:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u,l,p,h,f,m,x;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,a=t.setAvatar,i=t.setShowAvatarInput,!(o=n.currentTarget.files[0])){e.next=27;break}if(s=Ke.filesInfo,c=s.regex,d=s.sizes,u=o.name,l=o.size,p=c.images.test(u),h=function(){i(!1),i(!0)},p){e.next=10;break}return h(),e.abrupt("return",Ke.setApiFeedback("You cannot upload this file as an avatar"));case 10:if(!p){e.next=14;break}if(!(l>d.imageMaxSize)){e.next=14;break}return h(),e.abrupt("return",Ke.setApiFeedback("You cannot upload this large file"));case 14:return(f=new FormData).append("file",o),e.prev=16,"/api/user/profile/changeAvatar",e.next=20,Ke.axios.post("/api/user/profile/changeAvatar",f);case 20:(m=e.sent)&&(x=m.data.avatar,$n.updateCachedAvatar(x),a(x),h()),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(16),h();case 27:case"end":return e.stop()}}),e,null,[[16,24]])})));return function(t){return e.apply(this,arguments)}}(),removeAvatar:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setAvatar,"/api/user/profile/removeAvatar",e.next=4,Ke.axios.get("/api/user/profile/removeAvatar");case 4:(a=e.sent)&&(i=a.data.avatar,$n.updateCachedAvatar(i),n(i));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Yn={useProfile:function(e){var t=e.setShowAvatarInput,n=Object(o.useState)({name:"",nameError:"",story:"",storyError:""}),a=Object(lt.a)(n,2),r=a[0],i=a[1],s=P.useFormHandler(i),c=Object(o.useState)(""),d=Object(lt.a)(c,2),u=d[0],l=d[1];Object(o.useEffect)((function(){$n.getProfile({setProfile:i,setAvatar:l})}),[]);var p=u.includes("ui-avatars");return{profile:r,profileHandler:s,avatar:u,withDefaultAvatar:p,updateProfile:function(e){$n.updateProfile({event:e,profile:r,avatar:u,withDefaultAvatar:p,setProfile:i,setAvatar:l,profileHandler:s})},changeAvatar:function(e){$n.changeAvatar({event:e,setAvatar:l,setShowAvatarInput:t})},removeAvatar:function(){$n.removeAvatar({setAvatar:l})}}}},Qn={Content:h.c.div.withConfig({displayName:"Content",componentId:"sc-b2abck-0"})(["width:100%;height:100%;padding:0px 0px 20px 20px;display:flex;justify-content:space-between;align-items:center;flex-direction:column;@media (max-width:","){padding:0px 0px 20px 15px;}",""],(function(e){return e.theme.additionalBreakpoint}),(function(e){return e.withAnalysis?Object(h.b)(Q||(Q=Object(ht.a)(["\n                  padding-bottom: 10px;\n                  @media (max-width: ",") {\n                      padding-bottom: 10px;\n                  }\n              "])),(function(e){return e.theme.additionalBreakpoint})):null})),Messages:h.c.div.withConfig({displayName:"Messages",componentId:"sc-2p7lf7-0"})(["width:100%;height:100%;padding-right:10px;overflow:auto;"]),UnreadMessagesInfo:h.c.div.withConfig({displayName:"UnreadMessagesInfo",componentId:"sc-vg0wl7-0"})(["padding:8px 15px;background:",";font-size:12px;font-weight:bold;text-align:center;box-shadow:0px 0px 15px -10px black;cursor:pointer;border-radius:10px;position:absolute;left:50%;top:10px;transform:translate(-50%,0px);z-index:1;@media (max-width:","){font-size:10px;}"],(function(e){return e.theme.primaryColor}),(function(e){return e.theme.additionalBreakpoint})),FileInput:h.c.input.attrs((function(){return{id:"file",type:"file"}})).withConfig({displayName:"FileInput",componentId:"sc-tal7oy-0"})(["width:0px;height:0px;opacity:0;position:absolute;bottom:0px;z-index:-1;"]),Warning:h.c.p.withConfig({displayName:"Warning",componentId:"sc-190sg0b-0"})(["height:100%;display:flex;justify-content:center;align-items:center;"]),Error:h.c.div.withConfig({displayName:"Error",componentId:"sc-135o9w1-0"})(["align-self:flex-end;margin-right:20px;p{max-width:100%;border-radius:10px;margin-top:10px;white-space:nowrap;}"])},Zn={Content:h.c.div.withConfig({displayName:"Content",componentId:"sc-hvptbf-0"})(["width:100%;display:flex;justify-content:space-around;align-items:center;@media (max-width:","){flex-direction:column;}"],(function(e){return e.theme.additionalBreakpoint})),AvatarContainer:h.c.div.withConfig({displayName:"AvatarContainer",componentId:"sc-1ca535b-0"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;@media (max-width:","){order:1;margin-bottom:40px;}"],(function(e){return e.theme.additionalBreakpoint})),Avatar:h.c.img.withConfig({displayName:"Avatar",componentId:"sc-1nl2g8d-0"})(["width:200px;height:200px;border-radius:50%;border:1px solid black;object-fit:cover;@media (max-width:","){width:120px;height:120px;}"],(function(e){return e.theme.additionalBreakpoint})),Info:h.c.form.withConfig({displayName:"Info",componentId:"sc-1jm59ax-0"})(["width:400px;display:flex;justify-content:center;align-items:center;flex-direction:column;@media (max-width:","){order:2;width:90%;}"],(function(e){return e.theme.additionalBreakpoint})),Buttons:h.c.div.withConfig({displayName:"Buttons",componentId:"sc-r949f5-0"})(["margin-top:20px;"]),Button:Object(h.c)($t.Button).withConfig({displayName:"Button",componentId:"sc-2svgj1-0"})(["margin-top:20px;padding:5px 20px;"])},ea=h.c.section.withConfig({displayName:"Profile__ProfileContainer",componentId:"sc-z9yqn0-0"})(["min-height:100%;padding:30px;display:flex;justify-content:center;align-items:center;"]),ta=function(){var e=Object(o.useState)(!0),t=Object(lt.a)(e,2),n=t[0],a=t[1],r=Yn.useProfile({setShowAvatarInput:a}),i=r.profile,s=i.name,c=i.nameError,d=i.story,u=i.storyError,l=r.profileHandler,p=r.avatar,h=r.withDefaultAvatar,f=r.updateProfile,m=r.changeAvatar,x=r.removeAvatar;return Object(et.jsx)(ea,{children:Object(et.jsxs)(Zn.Content,{children:[Object(et.jsxs)(Zn.Info,{onSubmit:f,children:[Object(et.jsx)(Pn.Input,{id:"name",name:"name",type:"text",label:"Name",value:s,placeholder:"Type your name",error:c,onChange:l.handleInputValue}),Object(et.jsx)(Pn.Input,{id:"story",name:"story",type:"textarea",label:"About your trading",value:d,placeholder:"Type the story of your trading",error:u,onChange:l.handleInputValue}),Object(et.jsx)(Zn.Button,{children:"Update profile"}),Object(et.jsx)(Cn,{})]}),Object(et.jsxs)(Zn.AvatarContainer,{children:[Object(et.jsx)(Zn.Avatar,{src:p}),Object(et.jsxs)(Zn.Buttons,{children:[Object(et.jsx)(Zn.Button,{as:"label",htmlFor:"file",children:"Change avatar"}),!h&&Object(et.jsx)(Zn.Button,{onClick:x,children:"Remove avatar"})]}),n&&Object(et.jsx)(Qn.FileInput,{onChange:m})]})]})})},na=n(18),aa={handleOnSendMessage:function(e){var t=e.socket,n=e.messagesRef,a=e.message;(0,e.setMessages)((function(e){return[].concat(Object(na.a)(e),[a])})),aa.pushToTheBottom(n),t.emit("readMessages")},getMessages:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u,l,p,h,f,m,x,g,b,w,j,v,O,y;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,a=t.limit,i=t.offset,o=t.messagesRef,s=t.hasMoreMessages,c=t.lastUnreadMessageIndex,d=t.setMessages,u=t.setHasMoreMessages,l=t.setIsLoading,p=t.setCurrentUser,h=t.setUnreadMessagesAmount,f=function(){var e=JSON.parse(sessionStorage.getItem("currentUser")),t=JSON.parse(sessionStorage.getItem("messages"));t&&e&&(l(!1),p(e),d(t),setTimeout((function(){return aa.pushToTheBottom(o,!0)}),0))},m="/api/user/communication/getMessages",!n){e.next=10;break}if(!((x=n.target).scrollTop<=0&&s)){e.next=10;break}return e.next=8,Ke.axios.post(m,{limit:a,offset:i});case 8:(g=e.sent)&&(b=g.data.messages,u(0!==b.length),w=x.scrollHeight,d((function(e){return[].concat(Object(na.a)(b),Object(na.a)(e))})),x.scrollTop=x.scrollHeight-w,b.length+b.length>=c&&h(0));case 10:if(n){e.next=16;break}return f(),e.next=14,Ke.axios.post(m,{limit:a,offset:i});case 14:(j=e.sent)&&(l(!1),v=j.data,O=v.user,y=v.messages,sessionStorage.setItem("currentUser",JSON.stringify(O)),sessionStorage.setItem("messages",JSON.stringify(y)),p(O),d(y),aa.pushToTheBottom(o,!0),y.length>=c&&h(0));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUnreadMessages:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.messagesRef,a=t.lastUnreadMessageIndex,i=t.setMessages,o=t.setUnreadMessagesAmount,"/api/user/communication/getMessages",e.next=4,Ke.axios.post("/api/user/communication/getMessages",{limit:a,offset:0});case 4:(s=e.sent)&&(c=s.data.messages,i(c),setTimeout((function(){n.current.scrollTop=0}),0),o(0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sendMessage:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u,l,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.socket,a=t.messagesRef,i=t.messages,o=t.message,s=t.currentUser,c=t.setMessage,d=t.setMessages,!o.trim()){e.next=21;break}return u=i[i.length-1],l=u?u.id+1:0,p={id:l,type:"MESSAGE",content:o,createdAt:new Date,user:s},d((function(e){return[].concat(Object(na.a)(e),[p])})),aa.pushToTheBottom(a),setTimeout((function(){return c("")}),0),e.prev=8,"/api/user/communication/sendMessage",e.next=12,b.a.post("/api/user/communication/sendMessage",{content:o});case 12:e.sent&&n.emit("sendMessage",p),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(8),Ke.handleApiError(e.t0),d(i);case 21:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}(),handleSubmittingTextarea:function(e){var t=e.event,n=e.sendMessage;if("Enter"===t.key)switch(!0){case Ke.detectMobileDevice():return;case!t.currentTarget.value.trim():t.preventDefault();break;case!t.shiftKey:n()}},sendFile:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u,l,p,h,f,m,x,g,w,j,v,O,y,k,C,S,I,A,M,E,B,T;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,a=t.socket,i=t.messagesRef,o=t.messages,s=t.currentUser,c=t.setMessages,d=t.setShowFileInput,u=t.setUploadPercentage,p=0,!(h=n.currentTarget.files[0])){e.next=34;break}if(f=Ke.filesInfo,m=f.regex,x=f.sizes,g=h.name,w=h.size,j=m.images.test(g),v=m.videos.test(g),O=m.files.test(g),y=function(){d(!1),setTimeout((function(){return d(!0)}),0)},k=function(){return Ke.setApiFeedback("You cannot send this large file")},j||v||O){e.next=14;break}return y(),e.abrupt("return",Ke.setApiFeedback("You cannot send a file with this extension"));case 14:return j&&w>x.imageMaxSize&&(y(),k()),v&&w>x.maxVideoSize&&(y(),k()),O&&w>x.maxFileSize&&(y(),k()),(C=new FormData).append("file",h),e.prev=19,"/api/user/communication/sendFile",l=setInterval((function(){p<100&&(p++,u((function(e){return e+1})))}),500),e.next=24,b.a.post("/api/user/communication/sendFile",C);case 24:(S=e.sent)&&(u(100),clearInterval(l),setTimeout((function(){return u(0)}),800),I=S.data,A=I.type,M=I.content,E=o[o.length-1],B=E?E.id+1:0,T={id:B,type:A,content:M,filename:g,createdAt:new Date,user:s},c([].concat(Object(na.a)(o),[T])),aa.pushToTheBottom(i),y(),a.emit("sendMessage",T)),e.next=34;break;case 28:e.prev=28,e.t0=e.catch(19),Ke.handleApiError(e.t0),y(),clearInterval(l),u(0);case 34:case"end":return e.stop()}}),e,null,[[19,28]])})));return function(t){return e.apply(this,arguments)}}(),pushToTheBottom:function(e,t){e.current&&(t?e.current.scrollTop=e.current.scrollHeight:setTimeout((function(){e.current.scrollTop=e.current.scrollHeight}),0))}},ra={useChat:function(e){var t=e.setShowFileInput,n=e.setUploadPercentage,a=P.useSocket().socket,s=P.useMessagesInfo(),c=s.lastUnreadMessageIndex,d=s.setUnreadMessagesAmount,u=Object(o.useRef)(null),l=Object(o.useState)([]),p=Object(lt.a)(l,2),h=p[0],f=p[1],m=Object(o.useState)(""),x=Object(lt.a)(m,2),g=x[0],b=x[1],w=Object(o.useState)(!0),j=Object(lt.a)(w,2),v=j[0],O=j[1],y=Object(o.useState)(!0),k=Object(lt.a)(y,2),C=k[0],S=k[1],I=Object(o.useState)(),A=Object(lt.a)(I,2),M=A[0],E=A[1],B=function(e){aa.handleOnSendMessage({socket:a,messagesRef:u,message:e,setMessages:f})};Object(o.useEffect)((function(){return a&&a.on("sendMessage",B),function(){a&&a.off("sendMessage",B)}}),[a]);var T=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.event,a=t.limit,i=t.offset,aa.getMessages({event:n,limit:a,offset:i,messagesRef:u,hasMoreMessages:v,lastUnreadMessageIndex:c,setMessages:f,setHasMoreMessages:O,setIsLoading:S,setCurrentUser:E,setUnreadMessagesAmount:d});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){T({event:void 0,limit:20,offset:0}),Ke.subscribePushNotifications("/api/user/communication/subscribePushNotifications")}),[]);var N=function(){aa.sendMessage({socket:a,messagesRef:u,messages:h,message:g,currentUser:M,setMessage:b,setMessages:f})};return{messagesRef:u,messages:h,message:g,isLoading:C,currentUser:M,setMessage:b,getMessages:T,getUnreadMessages:function(){aa.getUnreadMessages({messagesRef:u,lastUnreadMessageIndex:c,setMessages:f,setUnreadMessagesAmount:d})},sendMessage:N,handleSubmittingTextarea:function(e){aa.handleSubmittingTextarea({event:e,sendMessage:N})},sendFile:function(e){aa.sendFile({event:e,socket:a,messagesRef:u,messages:h,currentUser:M,setMessages:f,setShowFileInput:t,setUploadPercentage:n})}}}},ia={Container:h.c.div.withConfig({displayName:"Container",componentId:"sc-1ogvg21-0"})(["width:calc(100% - 20px);height:80px;background:",";border-radius:10px;margin-top:10px;margin-right:20px;border:1px solid black;display:flex;justify-content:center;align-items:center;"],(function(e){return e.theme.primaryColor})),Content:h.c.textarea.withConfig({displayName:"Content",componentId:"sc-1u13f8q-0"})(["width:100%;height:100%;padding:10px 15px;background:transparent;font-size:14px;border:none;resize:none;::-webkit-scrollbar{display:none;}@media (max-width:","){padding:8px 10px;font-size:12px;}"],(function(e){return e.theme.additionalBreakpoint})),Buttons:h.c.div.withConfig({displayName:"Buttons",componentId:"sc-1gd8g5h-0"})(["display:flex;justify-content:center;align-items:center;"]),Button:Object(h.c)($t.Button).withConfig({displayName:"Button",componentId:"sc-14wr5mp-0"})(["padding:8px 10px;margin-right:15px;background:none;border:1px solid black;white-space:nowrap;color:black;cursor:pointer;@media (max-width:","){padding:6px 8px;margin-right:10px;font-size:11px;}"],(function(e){return e.theme.additionalBreakpoint}))},oa={AssetContainer:h.c.div.withConfig({displayName:"AssetContainer",componentId:"sc-1nrlus1-0"})(["min-height:40px;margin-bottom:10px;border-radius:12px;background:",";display:flex;justify-content:center;align-items:center;align-self:flex-start;position:relative;",""],(function(e){return e.theme.primaryColor}),(function(e){return e.withCurrentUser?Object(h.b)(Z||(Z=Object(ht.a)(["\n                  align-self: flex-end;\n              "]))):null})),Content:h.c.div.withConfig({displayName:"Content",componentId:"sc-15sjjgy-0"})(["width:max-content;max-width:70%;padding:8px 15px;margin-bottom:10px;border:1px solid black;background:",";font-size:15px;border-radius:12px;white-space:pre-line;cursor:pointer;color:black;position:relative;@media (max-width:","){font-size:14px;}@media (max-width:","){font-size:13px;}@media (max-width:","){padding:7px 12px;}@media (max-width:","){font-size:12px;}@media (max-width:","){font-size:11px;}"," "," "," ",""],(function(e){return e.theme.primaryColor}),(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.additionalBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint}),(function(e){return e.withCurrentUser?Object(h.b)(ee||(ee=Object(ht.a)(["\n                  align-self: flex-end;\n              "]))):null}),(function(e){var t=e.withCurrentUser;return e.withLastUserMessage?t?Object(h.b)(te||(te=Object(ht.a)(["\n                      border-bottom-left-radius: 2px;\n                  "]))):Object(h.b)(ne||(ne=Object(ht.a)(["\n                      border-bottom-right-radius: 2px;\n                  "]))):null}),(function(e){return e.withFile?Object(h.b)(ae||(ae=Object(ht.a)(["\n                  font-weight: bold;\n                  cursor: pointer;\n              "]))):null}),(function(e){return e.withError?Object(h.b)(re||(re=Object(ht.a)(["\n                  font-weight: bold;\n              "]))):null})),Avatar:h.c.div.withConfig({displayName:"Avatar",componentId:"sc-vbmdes-0"})(["width:40px;height:40px;margin-left:15px;background:"," no-repeat center center;background-size:100% 100%;font-size:16px;border-radius:50%;color:black;font-weight:bold;cursor:pointer;display:flex;justify-content:center;align-items:center;position:absolute;bottom:-2px;right:-50px;&::before{max-width:50px;border-radius:5px;cursor:initial;content:",";font-size:10px;opacity:0;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-weight:initial;position:absolute;top:50%;left:calc(100% + 10px);transform:translate(0px,-50%);transition:opacity ease-in-out 0.5s;}&:hover{&::before{opacity:1;}}@media (max-width:","){width:37px;height:37px;font-size:15px;right:-47px;}@media (max-width:","){width:34px;height:34px;font-size:14px;right:-44px;}@media (max-width:","){width:31px;height:31px;font-size:13px;right:-41px;}@media (max-width:","){width:28px;height:28px;font-size:12px;right:-38px;}",""],(function(e){var t=e.src;return"url(".concat(t,")")}),(function(e){var t=e.name;return"'".concat(t,"'")}),(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint}),(function(e){return e.withCurrentUser?Object(h.b)(ie||(ie=Object(ht.a)(["\n                  left: -65px;\n                  &::before {\n                      left: auto;\n                      right: calc(100% + 10px);\n                  }\n                  @media (max-width: ",") {\n                      left: -62px;\n                  }\n                  @media (max-width: ",") {\n                      left: -59px;\n                  }\n                  @media (max-width: ",") {\n                      left: -56px;\n                  }\n                  @media (max-width: ",") {\n                      left: -53px;\n                  }\n              "])),(function(e){return e.theme.firstBreakpoint}),(function(e){return e.theme.secondBreakpoint}),(function(e){return e.theme.thirdBreakpoint}),(function(e){return e.theme.fourthBreakpoint})):null})),Image:h.c.img.withConfig({displayName:"Image",componentId:"sc-6grbc-0"})(["max-width:100%;height:350px;border:1px solid black;border-radius:10px;@media (max-width:","){max-width:75vw;height:35vh;}"],(function(e){return e.theme.additionalBreakpoint})),Video:h.c.video.withConfig({displayName:"Video",componentId:"sc-1b7mxgu-0"})(["max-width:100%;height:400px;border:1px solid black;border-radius:10px;@media (max-width:","){max-width:75vw;height:50vh;}"],(function(e){return e.theme.additionalBreakpoint})),Date:h.c.div.withConfig({displayName:"Date",componentId:"sc-qcp1f-0"})(["width:100%;font-size:12px;text-align:left;font-weight:bold;white-space:nowrap;@media (max-width:","){font-size:10px;}"," ",""],(function(e){return e.theme.additionalBreakpoint}),(function(e){return e.withCurrentUser?Object(h.b)(oe||(oe=Object(ht.a)(["\n                  text-align: right;\n              "]))):null}),(function(e){var t=e.withLastUserMessage,n=e.showDetails;return!t&&n?Object(h.b)(se||(se=Object(ht.a)(["\n                  margin-bottom: 10px;\n              "]))):null}))},sa=function(e){var t=e.message,n=t.type,a=t.content,r=t.filename,i=t.createdAt,o=t.user,s=e.nextMessage,c=e.currentUser,d=o.id===(null===c||void 0===c?void 0:c.id),u=s&&o.id!==s.user.id||!s,l=function(){return Object(et.jsx)(oa.Avatar,{src:o.profile.avatar,onDoubleClick:function(){return Ke.history.push("/users/".concat(o.id))},name:o.profile.name,withCurrentUser:d})};return Object(et.jsx)(ma.Message,{type:n,content:a,filename:r,createdAt:i,showAvatar:l,showError:function(e){return Object(et.jsxs)(oa.Content,{withCurrentUser:d,withLastUserMessage:u,withError:!0,children:[e,u&&l()]})},withCurrentUser:d,withLastUserMessage:u,withLastAndNextMessage:!!u&&!!s})},ca=n(148),da=n.n(ca),ua=h.c.div.withConfig({displayName:"Message__MessageContainer",componentId:"sc-1dbh3sh-0"})(["display:flex;flex-direction:column;",""],(function(e){return e.withLastUserMessage?Object(h.b)(ce||(ce=Object(ht.a)(["\n                  margin-bottom: 15px;\n              "]))):null})),la=function(e){var t=e.type,n=e.content,a=e.filename,r=e.createdAt,i=e.views,s=e.showAvatar,c=e.showError,d=e.withCurrentUser,u=e.withLastUserMessage,l=e.withLastAndNextMessage,p=Object(o.useState)(!1),h=Object(lt.a)(p,2),f=h[0],m=h[1],x=Object(o.useState)(!1),g=Object(lt.a)(x,2),b=g[0],w=g[1],j=Object(o.useState)(!1),v=Object(lt.a)(j,2),O=v[0],y=v[1];Object(o.useEffect)((function(){f&&setTimeout((function(){return m(!1)}),3e3)}),[f]);var k=function(){"IMAGE"===t?w(!0):y(!0)},C=new Date(r),S="FILE"===t;return Object(et.jsxs)(ua,{onClick:function(){return m(!0)},withLastUserMessage:l,children:["IMAGE"===t?b?c("Image has failed to load"):Object(et.jsxs)(oa.AssetContainer,{withCurrentUser:d,children:[Object(et.jsx)(oa.Image,{src:n,onError:k}),u&&s&&s()]}):"VIDEO"===t?O?c("Video has failed to load"):Object(et.jsxs)(oa.AssetContainer,{withCurrentUser:d,children:[Object(et.jsx)(oa.Video,{src:n,onError:k,controls:!0}),u&&s&&s()]}):Object(et.jsxs)(oa.Content,{onClick:function(){S&&da.a.saveAs(n,a)},withCurrentUser:d,withLastUserMessage:u,withFile:S,children:[S?a:n,u&&s&&s()]}),(u||f)&&Object(et.jsxs)(oa.Date,{withCurrentUser:d,withLastUserMessage:u,showDetails:f,children:[(new Date).toDateString()===C.toDateString()?C.toLocaleTimeString():C.toLocaleString(),i&&", ".concat(i,"\ud83d\udc41\ufe0f")]})]})},pa=h.c.div.withConfig({displayName:"RingsContainer",componentId:"sc-evhgq0-0"})(["width:","px;height:","px;position:relative;"],(function(e){return e.dimension}),(function(e){return e.dimension})),ha={Rings:h.c.svg.withConfig({displayName:"Rings",componentId:"sc-zkcwbn-0"})(["width:","px;height:","px;stroke-width:2;stroke:black;fill:transparent;"],(function(e){return e.dimension}),(function(e){return e.dimension})),RingsContainer:pa,Ring:h.c.circle.withConfig({displayName:"Ring",componentId:"sc-16m9aja-0"})(["transition:0.8s stroke-dashoffset;transform:rotate(-90deg);transform-origin:50% 50%;"]),Percentage:h.c.p.withConfig({displayName:"Percentage",componentId:"sc-615rjd-0"})(["font-size:12px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);@media (max-width:800px){font-size:9px;}"])},fa=h.c.div.withConfig({displayName:"ProgressLoader__ProgressLoaderContainer",componentId:"sc-9bxoy9-0"})(["margin-right:10px;display:flex;flex-direction:column;"]),ma={MessageContainer:sa,Message:la,ProgressLoader:function(e){var t=e.percentage,n=Object(o.useRef)(null),a=50;return Object(o.useEffect)((function(){if(n){var e=2*n.current.r.baseVal.value*Math.PI;n.current.style.strokeDasharray="".concat(e," ").concat(e);var a=e-t/100*e;n.current.style.strokeDashoffset=a.toString()}}),[t]),Object(et.jsx)(fa,{children:Object(et.jsxs)(ha.RingsContainer,{dimension:a,children:[Object(et.jsxs)(ha.Rings,{dimension:a,children:[Object(et.jsx)(ha.Ring,{ref:n,r:21,cx:25,cy:25,strokeDashoffset:42*Math.PI}),Object(et.jsx)(ha.Ring,{strokeOpacity:"0.3",r:21,cx:25,cy:25})]}),Object(et.jsxs)(ha.Percentage,{children:[t.toFixed(0),"%"]})]})})}},xa=h.c.section.withConfig({displayName:"Chat__ChatContainer",componentId:"sc-1lvixff-0"})(["height:100%;position:relative;"]),ga=function(){var e=P.useMessagesInfo().lastUnreadMessageIndex,t=Object(o.useRef)(null),n=Object(o.useState)(!0),a=Object(lt.a)(n,2),r=a[0],i=a[1],s=Object(o.useState)(0),c=Object(lt.a)(s,2),d=c[0],u=c[1],l=ra.useChat({setShowFileInput:i,setUploadPercentage:u}),p=l.messagesRef,h=l.messages,f=l.message,m=l.isLoading,x=l.currentUser,g=l.setMessage,b=l.getMessages,w=l.getUnreadMessages,j=l.sendMessage,v=l.handleSubmittingTextarea,O=l.sendFile,y=!!h.length,k=!m&&e&&h.length<e,C=!!d;return Object(et.jsxs)(xa,{children:[k&&Object(et.jsx)(Qn.UnreadMessagesInfo,{onClick:w,children:"Unread messages"}),Object(et.jsxs)(Qn.Content,{children:[Object(et.jsx)(Qn.Messages,{ref:p,onTouchStart:function(){return t.current&&t.current.blur()},onScroll:function(e){return b({event:e,limit:20,offset:h.length})},children:!m&&(y?h.map((function(e,t){var n=h[t+1];return Object(et.jsx)(ma.MessageContainer,{message:e,nextMessage:n,currentUser:x},e.id)})):Object(et.jsx)(Qn.Warning,{children:"There are no messages yet"}))}),Object(et.jsx)(Qn.Error,{children:Object(et.jsx)(Cn,{})}),Object(et.jsxs)(ia.Container,{children:[Object(et.jsx)(ia.Content,{ref:t,value:f,placeholder:"Type your message",disabled:C,onChange:function(e){return g(e.target.value)},onKeyPress:v}),Object(et.jsxs)(ia.Buttons,{children:[r&&Object(et.jsx)(Qn.FileInput,{onChange:O}),C?Object(et.jsx)(ma.ProgressLoader,{percentage:d}):Object(et.jsx)(ia.Button,{as:"label",htmlFor:"file",children:"Upload \ud83d\udcc1"}),Object(et.jsx)(ia.Button,{onClick:function(){j(),Ke.detectMobileDevice()&&t.current.focus()},children:"Send \u2709\ufe0f"})]})]})]})]})},ba={getAnalysis:function(){var e=Object(i.a)(r.a.mark((function e(t){var n,a,i,o,s,c,d,u,l,p,h,f,m,x,g;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.event,a=t.limit,i=t.offset,o=t.analysisRef,s=t.setAnalysis,c=t.hasMoreAnalysis,d=t.setHasMoreAnalysis,u=function(){var e=JSON.parse(sessionStorage.getItem("analysis"));e&&e.length&&(s(e),setTimeout((function(){return aa.pushToTheBottom(o,!0)}),0))},l="/api/user/communication/getAnalysis",!n){e.next=10;break}if(!((p=n.target).scrollTop<=0&&c)){e.next=10;break}return e.next=8,Ke.axios.post(l,{limit:a,offset:i});case 8:(h=e.sent)&&(f=h.data.analysis,d(0!==f.length),m=p.scrollHeight,s((function(e){return[].concat(Object(na.a)(f),Object(na.a)(e))})),p.scrollTop=p.scrollHeight-m);case 10:if(n){e.next=16;break}return u(),e.next=14,Ke.axios.post(l,{limit:a,offset:i});case 14:(x=e.sent)&&(g=x.data.analysis,sessionStorage.setItem("analysis",JSON.stringify(g)),s(g),aa.pushToTheBottom(o));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},wa={useAnalysis:function(){var e=Object(o.useRef)(null),t=Object(o.useState)([]),n=Object(lt.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(!0),s=Object(lt.a)(i,2),c=s[0],d=s[1],u=function(t){var n=t.event,a=t.limit,i=t.offset;ba.getAnalysis({event:n,limit:a,offset:i,analysisRef:e,setAnalysis:r,hasMoreAnalysis:c,setHasMoreAnalysis:d})};return Object(o.useEffect)((function(){u({event:void 0,limit:20,offset:0})}),[]),{analysisRef:e,analysis:a,getAnalysis:u}}},ja={Analysis:function(e){var t=e.analysis,n=t.type,a=t.content,r=t.filename,i=t.createdAt,o=t.views,s=e.nextAnalysis,c=!s;return Object(et.jsx)(ma.Message,{type:n,content:a,filename:r,createdAt:i,views:o,showError:function(e){return Object(et.jsx)(oa.Content,{withCurrentUser:!0,withLastUserMessage:c,withError:!0,children:e})},withCurrentUser:!0,withLastUserMessage:c,withLastAndNextMessage:!!c&&!!s})}},va=h.c.section.withConfig({displayName:"Analysis__AnalysisContainer",componentId:"sc-1vtbi2b-0"})(["height:100%;"]),Oa=function(){var e=wa.useAnalysis(),t=e.analysisRef,n=e.analysis,a=e.getAnalysis,r=!!n.length;return Object(et.jsx)(va,{children:Object(et.jsx)(Qn.Content,{withAnalysis:!0,children:Object(et.jsx)(Qn.Messages,{ref:t,onScroll:function(e){return a({event:e,limit:20,offset:n.length})},children:r?n.map((function(e,t){var a=n[t+1];return Object(et.jsx)(ja.Analysis,{analysis:e,nextAnalysis:a},e.id)})):Object(et.jsx)(Qn.Warning,{children:"There are no analysis yet"})})})})},ya=h.c.main.withConfig({displayName:"App__AppContainer",componentId:"sc-1itv0ly-0"})(["height:100%;"]),ka=function(){Object(o.useEffect)((function(){(function(){var e=Object(i.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/api/global/auth/checkRole",e.next=4,b.a.get("/api/global/auth/checkRole");case 4:(t=e.sent)&&(n=t.data.role,Ke.setRole(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Ke.handleApiError(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var e=[{id:1,pathname:"/",render:function(){return Object(et.jsx)(nt,{children:Object(et.jsx)(Xn,{})})}},{id:2,pathname:"/user/profile",render:function(){return Object(et.jsx)(Vt,{children:Object(et.jsx)(ta,{})})}},{id:3,pathname:"/users/:id",render:function(){return Object(et.jsx)(Vt,{children:Object(et.jsx)(ta,{})})}},{id:4,pathname:"/user/chat",render:function(){return Object(et.jsx)(Vt,{chat:!0,children:Object(et.jsx)(ga,{})})}},{id:5,pathname:"/user/analysis",render:function(){return Object(et.jsx)(Vt,{children:Object(et.jsx)(Oa,{})})}},{id:6,pathname:"/admin/analysis",render:function(){return Object(et.jsx)(Ut,{children:Object(et.jsx)(on,{})})}},{id:99,pathname:"*",render:function(){return Object(et.jsx)(u.a,{to:"/"})}}];return Object(et.jsxs)(ya,{children:[Object(et.jsx)(an,{}),Object(et.jsx)(u.d,{children:e.map((function(e){var t=e.id,n=e.pathname,a=e.render;return Object(et.jsx)(u.b,{path:n,render:a,exact:!0},t)}))})]})},Ca={primaryColor:"#ffff00",firstBreakpoint:"1200px",secondBreakpoint:"1000px",additionalBreakpoint:"900px",thirdBreakpoint:"750px",fourthBreakpoint:"500px"};d.a.render(Object(et.jsx)(s.a.StrictMode,{children:Object(et.jsx)(u.c,{history:Ke.history,children:Object(et.jsx)(l.a,{store:Te,children:Object(et.jsx)(p.a,{loading:Object(et.jsx)(an,{}),persistor:Pe,children:Object(et.jsx)(h.a,{theme:Ca,children:Object(et.jsx)(ka,{})})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");f?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):m(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):m(t,e)}))}}({onUpdate:function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.unregister();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})},67:function(e,t){},68:function(e,t){}},[[324,1,2]]]);
//# sourceMappingURL=main.295b13de.chunk.js.map